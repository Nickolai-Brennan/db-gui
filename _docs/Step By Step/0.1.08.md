## Step 0.1.08 — Add Root TypeScript Base Config + Unify All TS Configs (exact)

Goal: **one strict TS baseline** shared across web/api/shared, so types + imports behave consistently.

---

# 0.1.08a) Create `tsconfig.base.json` (root)

Create `/tsconfig.base.json`:

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "module": "ES2022",
    "moduleResolution": "Bundler",

    "strict": true,
    "noUncheckedIndexedAccess": true,
    "exactOptionalPropertyTypes": true,

    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,

    "resolveJsonModule": true,
    "verbatimModuleSyntax": true
  }
}
```

---

# 0.1.08b) Update `packages/shared/tsconfig.json`

Replace `packages/shared/tsconfig.json` with:

```json
{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    "declaration": true,
    "outDir": "dist",
    "rootDir": "src",
    "lib": ["ES2022"]
  },
  "include": ["src"]
}
```

Then:

```bash
pnpm --filter @db-gui/shared build
```

---

# 0.1.08c) Update `apps/api/tsconfig.json`

Replace `apps/api/tsconfig.json` with:

```json
{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    "lib": ["ES2022"],
    "outDir": "dist",
    "rootDir": "src"
  },
  "include": ["src"]
}
```

Then:

```bash
pnpm --filter api typecheck
```

---

# 0.1.08d) Web TS config (Vite already has TS configs)

Vite creates:

* `apps/web/tsconfig.json`
* `apps/web/tsconfig.app.json`
* `apps/web/tsconfig.node.json`

We’ll minimally ensure they extend the base.

### Edit `apps/web/tsconfig.json` to:

```json
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ]
}
```

### Edit `apps/web/tsconfig.app.json`

Add `extends` at top:

```json
{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    "jsx": "react-jsx",
    "types": ["vite/client"]
  },
  "include": ["src"]
}
```

### Edit `apps/web/tsconfig.node.json`

Add `extends` at top:

```json
{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    "lib": ["ES2022"],
    "types": ["node"]
  },
  "include": ["vite.config.ts"]
}
```

Then:

```bash
pnpm --filter web typecheck
```

---

# 0.1.08e) Root typecheck script (better ordering)

Update root `package.json` scripts to ensure shared builds first:

```json
{
  "scripts": {
    "dev": "pnpm -r dev",
    "build": "pnpm -r build",
    "lint": "pnpm -r lint",
    "typecheck": "pnpm --filter @db-gui/shared build && pnpm -r typecheck",
    "format": "pnpm -r format"
  }
}
```

Run:

```bash
pnpm typecheck
```

---

# Done criteria for 0.1.08

✅ All projects extend root TS base
✅ `pnpm typecheck` passes from repo root
✅ shared types compile and are consumed cleanly

---

## Next Step 0.1.09 — Add Prettier + formatting scripts consistently (root-first)

If you say **continue**, I’ll give the exact:

* `.prettierrc`
* `.prettierignore`
* root install
* package-level scripts cleanup so formatting is uniform across the monorepo
